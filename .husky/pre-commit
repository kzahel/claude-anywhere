# Run biome on staged files, but don't fail if no files match
# (e.g., when only markdown or other non-code files are staged)
pnpm biome check --write --staged --no-errors-on-unmatched

# Beads sync (if bd is available)
if command -v bd >/dev/null 2>&1 && [ -d .beads ]; then
    bd sync --flush-only || exit 1
    git add .beads/issues.jsonl 2>/dev/null || true
fi
